<section fxLayout='column' class="main-section">
  <md-toolbar fxFlex="60px">

    <md-select [(ngModel)]="selectedCategory" (change)="categoryChanged()">
      <md-option *ngFor="let cat of categories" [value]="cat.value">
        {{ cat.name }}
      </md-option>
    </md-select>

    <md-input-container class="autocomplete">
      <input type="text" mdInput [mdAutocomplete]="autoCompleteList" [(ngModel)]="keywordsInput"
             (keyup)="search()" (focus)="search()"
             title="Keywords (space or comma separators)">
    </md-input-container>
    <md-autocomplete #autoCompleteList="mdAutocomplete">
      <md-option *ngFor="let option of suggestOptions" [value]="option.expression">
        {{ option.display }}
      </md-option>
    </md-autocomplete>

    <button md-icon-button [md-menu-trigger-for]="toolbarMenu">
      <md-icon>more_vert</md-icon>
    </button>

  </md-toolbar>

  <div fxFlex class="notes-content">
    <app-note #idCreateNote [mode]="'create'" [display]="false"></app-note>
    <app-note *ngFor="let note of notes | async | filterNotes:keywordsFilter" [note]="note" [showExtra]="showNoteInfo"></app-note>
  </div>
</section>

<md-menu x-position="before" #toolbarMenu="mdMenu">
  <button md-menu-item (click)="showNoteInfo=true;" *ngIf="!showNoteInfo"><md-icon>drag_handle</md-icon>show note info</button>
  <button md-menu-item (click)="showNoteInfo=false;" *ngIf="showNoteInfo"><md-icon>short_text</md-icon>hide note info</button>
</md-menu>

<span class="addButton">
  <button md-mini-fab style="background-color: #00ad00" title="New note" (click)="showNewNote()">
    <md-icon>add</md-icon>
  </button>
</span>
